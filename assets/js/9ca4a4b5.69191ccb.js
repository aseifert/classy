"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2399],{856:function(e,t,a){a.d(t,{Z:function(){return p}});var n=a(4578),i=a(5861),s=a(7855),r=a(7757),o=a.n(r),l=a(7294),c=function(){function e(e,t){void 0===e&&(e="#termynal"),void 0===t&&(t={}),this.container="string"==typeof e?document.querySelector(e):e,this.pfx="data-"+(t.prefix||"ty"),this.originalStartDelay=this.startDelay=t.startDelay||parseFloat(this.container.getAttribute(this.pfx+"-startDelay"))||600,this.originalTypeDelay=this.typeDelay=t.typeDelay||parseFloat(this.container.getAttribute(this.pfx+"-typeDelay"))||90,this.originalLineDelay=this.lineDelay=t.lineDelay||parseFloat(this.container.getAttribute(this.pfx+"-lineDelay"))||1500,this.progressLength=t.progressLength||parseFloat(this.container.getAttribute(this.pfx+"-progressLength"))||40,this.progressChar=t.progressChar||this.container.getAttribute(this.pfx+"-progressChar")||"\u2588",this.progressPercent=t.progressPercent||parseFloat(this.container.getAttribute(this.pfx+"-progressPercent"))||100,this.cursor=t.cursor||this.container.getAttribute(this.pfx+"-cursor")||"\u258b",this.lineData=this.lineDataToElements(t.lineData||[]),this.loadLines(),t.noInit||this.init()}var t=e.prototype;return t.loadLines=function(){var e=this.generateFinish();e.style.visibility="hidden",this.container.appendChild(e),this.lines=Array.from(this.container.querySelectorAll("["+this.pfx+"]")).concat(this.lineData);for(var t=0;t<this.lines.length;t++)this.lines[t].style.visibility="hidden",this.container.appendChild(this.lines[t]);var a=this.generateRestart();a.style.visibility="hidden",this.container.appendChild(a),this.container.setAttribute("data-termynal","")},t.init=function(){var e=getComputedStyle(this.container);this.container.style.width="0px"!==e.width?e.width:void 0,this.container.style.minHeight="0px"!==e.height?e.height:void 0,this.container.setAttribute("data-termynal",""),this.container.innerHTML="";for(var t,a=(0,s.Z)(this.lines);!(t=a()).done;){t.value.style.visibility="visible"}this.start()},t.start=function(){var e=(0,i.Z)(o().mark((function e(){var t,a,n,i,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.addFinish(),e.next=3,this._wait(this.startDelay);case 3:t=(0,s.Z)(this.lines);case 4:if((a=t()).done){e.next=29;break}if(n=a.value,i=n.getAttribute(this.pfx),r=n.getAttribute(this.pfx+"-delay")||this.lineDelay,"input"!==i){e.next=16;break}return n.setAttribute(this.pfx+"-cursor",this.cursor),e.next=12,this.type(n);case 12:return e.next=14,this._wait(r);case 14:e.next=26;break;case 16:if("progress"!==i){e.next=23;break}return e.next=19,this.progress(n);case 19:return e.next=21,this._wait(r);case 21:e.next=26;break;case 23:return this.container.appendChild(n),e.next=26,this._wait(r);case 26:n.removeAttribute(this.pfx+"-cursor");case 27:e.next=4;break;case 29:this.addRestart(),this.finishElement.style.visibility="hidden",this.lineDelay=this.originalLineDelay,this.typeDelay=this.originalTypeDelay,this.startDelay=this.originalStartDelay;case 34:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}(),t.generateRestart=function(){var e=this,t=document.createElement("a");return t.onclick=function(t){t.preventDefault(),e.container.innerHTML="",e.init()},t.href="#",t.setAttribute("data-terminal-control",""),t.innerHTML="restart \u21bb",t},t.generateFinish=function(){var e=this,t=document.createElement("a");return t.onclick=function(t){t.preventDefault(),e.lineDelay=0,e.typeDelay=0,e.startDelay=0},t.href="#",t.setAttribute("data-terminal-control",""),t.innerHTML="fast \u2192",this.finishElement=t,t},t.addRestart=function(){var e=this.generateRestart();this.container.appendChild(e)},t.addFinish=function(){var e=this.generateFinish();this.container.appendChild(e)},t.type=function(){var e=(0,i.Z)(o().mark((function e(t){var a,n,i,s,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=Array.from(t.textContent),t.textContent="",this.container.appendChild(t),n=0,i=a;case 4:if(!(n<i.length)){e.next=13;break}return s=i[n],r=t.getAttribute(this.pfx+"-typeDelay")||this.typeDelay,e.next=9,this._wait(r);case 9:t.textContent+=s;case 10:n++,e.next=4;break;case 13:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t.progress=function(){var e=(0,i.Z)(o().mark((function e(t){var a,n,i,s,r,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=t.getAttribute(this.pfx+"-progressLength")||this.progressLength,n=t.getAttribute(this.pfx+"-progressChar")||this.progressChar,i=n.repeat(a),s=t.getAttribute(this.pfx+"-progressPercent")||this.progressPercent,t.textContent="",this.container.appendChild(t),r=1;case 7:if(!(r<i.length+1)){e.next=17;break}return e.next=10,this._wait(this.typeDelay);case 10:if(l=Math.round(r/i.length*100),t.textContent=i.slice(0,r)+" "+l+"%",!(l>s)){e.next=14;break}return e.abrupt("break",17);case 14:r++,e.next=7;break;case 17:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}(),t._wait=function(e){return new Promise((function(t){return setTimeout(t,e)}))},t.lineDataToElements=function(e){var t=this;return e.map((function(e){var a=document.createElement("div");return a.innerHTML="<span "+t._attributes(e)+">"+(e.value||"")+"</span>",a.firstElementChild}))},t._attributes=function(e){var t="";for(var a in e)"class"!==a?"type"===a?t+=this.pfx+'="'+e[a]+'" ':"value"!==a&&(t+=this.pfx+"-"+a+'="'+e[a]+'" '):t+=" class="+e[a]+" ";return t},e}(),p=function(e){function t(){return e.apply(this,arguments)||this}(0,n.Z)(t,e);var a=t.prototype;return a.componentDidMount=function(){new c(this.t,{typeDelay:40,lineDelay:700})},a.render=function(){var e=this;return l.createElement("div",null,l.createElement("div",{"data-terminal":!0,style:this.props.style,ref:function(t){return e.t=t}},this.props.children))},t}(l.Component)},6293:function(e,t,a){a.r(t),a.d(t,{frontMatter:function(){return o},contentTitle:function(){return l},metadata:function(){return c},assets:function(){return p},toc:function(){return d},ButtonWithBackdrop:function(){return h},default:function(){return k}});var n=a(7462),i=a(3366),s=(a(7294),a(3905)),r=(a(856),["components"]),o={sidebar_position:2,title:"Tasks and Input Formats"},l=void 0,c={unversionedId:"reference-manual/tasks-and-formats",id:"reference-manual/tasks-and-formats",title:"Tasks and Input Formats",description:"In its simplest flavor, classy lets you focus entirely on your data and automatically handles the development",source:"@site/docs/reference-manual/tasks-and-formats.md",sourceDirName:"reference-manual",slug:"/reference-manual/tasks-and-formats",permalink:"/classy/docs/reference-manual/tasks-and-formats",editUrl:"https://github.com/sunglasses-ai/classy/edit/main/docs/reference-manual/tasks-and-formats.md",tags:[],version:"current",sidebarPosition:2,frontMatter:{sidebar_position:2,title:"Tasks and Input Formats"},sidebar:"tutorialSidebar",previous:{title:"Visualizing your configuration",permalink:"/classy/docs/reference-manual/structured-configs/visualize"},next:{title:"Default Profiles",permalink:"/classy/docs/reference-manual/profiles"}},p={},d=[{value:"Data Formats",id:"data-formats",level:4},{value:"Sequence Classification",id:"sequence-classification",level:3},{value:"TSV",id:"tsv",level:4},{value:"JSONL",id:"jsonl",level:4},{value:"Sentence-Pair Classification",id:"sentence-pair-classification",level:3},{value:"TSV",id:"tsv-1",level:4},{value:"JSONL",id:"jsonl-1",level:4},{value:"Token Classification",id:"token-classification",level:2},{value:"TSV",id:"tsv-2",level:4},{value:"JSONL",id:"jsonl-2",level:4},{value:"Text Extraction",id:"text-extraction",level:2},{value:"TSV",id:"tsv-3",level:4},{value:"JSONL",id:"jsonl-3",level:4},{value:"Generation",id:"generation",level:2},{value:"TSV",id:"tsv-4",level:4},{value:"JSONL",id:"jsonl-4",level:4}],h=function(e){var t=e.children,a=e.title,n=useState(!1),i=n[0],r=n[1];return(0,s.kt)("div",{className:"mt-auto"},(0,s.kt)("div",{style:{textAlign:"center"}},(0,s.kt)(u,{className:"mt-auto",onClick:function(){return r(!0)},mdxType:"Button"},"Show Example")),(0,s.kt)(v,{show:i,onHide:function(){return r(!1)},mdxType:"Modal"},(0,s.kt)(v.Header,null,(0,s.kt)(v.Title,null,a)),(0,s.kt)(v.Body,null,t)))},m=function(e){return function(t){return console.warn("Component "+e+" was not imported, exported, or provided by MDXProvider as global scope"),(0,s.kt)("div",t)}},u=m("Button"),v=m("Modal"),g={toc:d,ButtonWithBackdrop:h};function k(e){var t=e.components,a=(0,i.Z)(e,r);return(0,s.kt)("wrapper",(0,n.Z)({},g,a,{components:t,mdxType:"MDXLayout"}),(0,s.kt)("p",null,"In its simplest flavor, ",(0,s.kt)("inlineCode",{parentName:"p"},"classy")," lets ",(0,s.kt)("strong",{parentName:"p"},"you focus entirely on your data")," and automatically handles the development\nof full-fledged models for you, with no ML knowledge or additional line of code required. To achieve this, ",(0,s.kt)("inlineCode",{parentName:"p"},"classy")," only\nasks you to specify the task you wish to tackle and to organize your data into suitable formats."),(0,s.kt)("p",null,"There are five tasks currently supported by classy:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},"Sequence Classification"),(0,s.kt)("li",{parentName:"ul"},"Sentence-Pair Classification"),(0,s.kt)("li",{parentName:"ul"},"Token Classification"),(0,s.kt)("li",{parentName:"ul"},"Text Extraction"),(0,s.kt)("li",{parentName:"ul"},"Generation")),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"These tasks cover the vast majority of NLP problems."))),(0,s.kt)("h4",{id:"data-formats"},"Data Formats"),(0,s.kt)("p",null,"Once you have realized which task you are dealing with, you have to organize your data. Currently, for each of\nthese tasks, ",(0,s.kt)("inlineCode",{parentName:"p"},"classy")," supports two possible input formats:"),(0,s.kt)("ul",null,(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},".tsv"),": files are expected to be standard TSV (tab-separated values) files."),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("inlineCode",{parentName:"li"},".jsonl"),": files are expected to contain, ",(0,s.kt)("strong",{parentName:"li"},"for each line"),", a JSON object representing a sample.")),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},(0,s.kt)("inlineCode",{parentName:"p"},"classy")," automatically infers how to process a given file from its extension. So please explicitly use ",(0,s.kt)("inlineCode",{parentName:"p"},'".tsv"')," for ",(0,s.kt)("inlineCode",{parentName:"p"},".tsv")," files\nand ",(0,s.kt)("inlineCode",{parentName:"p"},'".jsonl"')," for ",(0,s.kt)("inlineCode",{parentName:"p"},"jsonl")," files."))),(0,s.kt)("div",{className:"admonition admonition-info alert alert--info"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"14",height:"16",viewBox:"0 0 14 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M7 2.3c3.14 0 5.7 2.56 5.7 5.7s-2.56 5.7-5.7 5.7A5.71 5.71 0 0 1 1.3 8c0-3.14 2.56-5.7 5.7-5.7zM7 1C3.14 1 0 4.14 0 8s3.14 7 7 7 7-3.14 7-7-3.14-7-7-7zm1 3H6v5h2V4zm0 6H6v2h2v-2z"}))),"info")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},(0,s.kt)("inlineCode",{parentName:"p"},"classy")," supports the addition of ",(0,s.kt)("a",{parentName:"p",href:"/docs/getting-started/customizing-things/custom-data-format/"},"custom data formats"),"."))),(0,s.kt)("h3",{id:"sequence-classification"},"Sequence Classification"),(0,s.kt)("p",null,"Given a text in input (e.g. a sentence, a document), determine its most suitable label from a predefined set."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"An example is ",(0,s.kt)("em",{parentName:"p"},"Sentiment Analysis"),":"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"input"),": I love these headphones!"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"output"),": positive")))),(0,s.kt)("h4",{id:"tsv"},"TSV"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# two columns per line:\n# * input text\n# * corresponding label\n$ cat seq.tsv | head -1\nI love these headphones!    <tab>   positive\n")),(0,s.kt)("h4",{id:"jsonl"},"JSONL"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# object with fields:\n# * sequence (string)\n# * label (string)\n$ cat seq.jsonl | head -1\n{"sequence": "I love these headphones!", "label": "positive"}\n')),(0,s.kt)("h3",{id:"sentence-pair-classification"},"Sentence-Pair Classification"),(0,s.kt)("p",null,"Given two texts in input (e.g. two sentences), determine the most suitable label for this pair (usually denoting some semantic relations) from a predefined set."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"An example is ",(0,s.kt)("em",{parentName:"p"},"Paraphrasis Detection"),":"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"first input sentence"),": I love these headphones!"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"second input sentence"),": I really like these headphones!"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"output"),": equivalent")))),(0,s.kt)("h4",{id:"tsv-1"},"TSV"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# three columns per line:\n# * first input text\n# * second input text\n# * label\n$ cat sent-p.tsv | head -1\nI love these headphones!    <tab>   I love these headphones!    <tab>   equivalent\n")),(0,s.kt)("h4",{id:"jsonl-1"},"JSONL"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# object with fields:\n# * sentence1 (string)\n# * sentence2 (string)\n# * label (string)\n$ cat sent-p.jsonl | head -1\n{"sentence1": "I love these headphones!", "sentence2": "I love these headphones!", "label": "equivalent"}\n')),(0,s.kt)("h2",{id:"token-classification"},"Token Classification"),(0,s.kt)("p",null,"Given a list of tokens, for each of them, determine its most suitable label from a predefined set."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"An example is ",(0,s.kt)("em",{parentName:"p"},"Part-of-Speech Tagging"),":"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"input"),": I love these headphones"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"output"),": PRON VERB DET NOUN")))),(0,s.kt)("h4",{id:"tsv-2"},"TSV"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# two columns per line:\n# * space-separated list of input tokens\n# * space-separated list of labels\n$ cat tok.tsv | head -1\nI love these headphones !   <tab>   PRON VERB DET NOUN PUNCT\n")),(0,s.kt)("h4",{id:"jsonl-2"},"JSONL"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# object with fields:\n# * tokens (list of strings)\n# * labels (list of strings)\n$ cat tok.jsonl | head -1\n{"tokens": ["I", "love", "these", "headphones", "!"], "labels": ["PRON", "VERB", "DET", "NOUN", "PUNCT"]}\n')),(0,s.kt)("h2",{id:"text-extraction"},"Text Extraction"),(0,s.kt)("p",null,"Given a context (e.g. a document) and some query about this document (e.g. a question), extract the consecutive span in the context that best addresses the query (e.g. an answer)."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"An example is ",(0,s.kt)("em",{parentName:"p"},"Question Answering"),":"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"input context"),": I love these headphones!"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"input query"),": What do you love?"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"output"),": I love ",(0,s.kt)("mark",{style:{backgroundColor:"#f1e740"}},"these headphones"),"!")))),(0,s.kt)("h4",{id:"tsv-3"},"TSV"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# four columns per line:\n# * context\n# * query\n# * start char offset\n# * end char offset\n$ cat text-ext.tsv | head -1\nI love these headphones!    <tab>   What do you love?           <tab>   7  <tab>  23\n")),(0,s.kt)("h4",{id:"jsonl-3"},"JSONL"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# object with fields:\n# * context (string)\n# * query (string)\n# * answer_start (int) as a char offset\n# * answer_end (int) as a char offset\n$ cat text-ext.jsonl | head -1\n{"context": "I love these headphones!", "query": "What do you love?", "answer_start", 7, "answer_end": 23}\n')),(0,s.kt)("h2",{id:"generation"},"Generation"),(0,s.kt)("p",null,"Generally speaking, generation is the task of ",(0,s.kt)("em",{parentName:"p"},"generating")," a target text given a source text in input (e.g. a sentence)."),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"An example is ",(0,s.kt)("em",{parentName:"p"},"English-to-Italian Machine Translation"),":"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"input"),": I love these headphones!"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"output"),": Io adoro queste cuffie!")))),(0,s.kt)("div",{className:"admonition admonition-caution alert alert--warning"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",viewBox:"0 0 16 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"}))),"caution")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"The input format depends on whether you wish to do standard generation or language modeling:"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"standard generation"),": given a source text (e.g. ",(0,s.kt)("em",{parentName:"li"},"I loved these headphones!"),"), generate the corresponding target text (e.g., in Italian, ",(0,s.kt)("em",{parentName:"li"},"Io adoro queste cuffie!"),")"),(0,s.kt)("li",{parentName:"ul"},(0,s.kt)("strong",{parentName:"li"},"language modeling"),": given a text (e.g. ",(0,s.kt)("em",{parentName:"li"},"I came back home because"),"), generate the subsequent words (e.g. ",(0,s.kt)("em",{parentName:"li"},"I had forgotten my wallet"),")")))),(0,s.kt)("h4",{id:"tsv-4"},"TSV"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},"# [standard generation] two columns per line:\n# * source text\n# * target text\n$ cat gen.tsv | head -1\nI love these headphones!    <tab>   Io adoro queste cuffie!\n\n# [language modeling] one column per line:\n# * text\n$ cat lm.tsv | head -1\nI came back home because I had forgotten my wallet.\n")),(0,s.kt)("h4",{id:"jsonl-4"},"JSONL"),(0,s.kt)("pre",null,(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'# [standard generation] object with fields:\n# * source_sequence (string)\n# * target_sequence (string)\n$ cat gen.jsonl | head -1\n{"source_sequence": "I love these headphones!", "target_sequence": "Io adoro queste cuffie!"}\n\n# [language modeling] object with fields:\n# * source_sequence (string)\n$ cat lm.jsonl | head -1\n{"source_sequence": "I came back home because I had forgotten my wallet."}\n')),(0,s.kt)("div",{className:"admonition admonition-tip alert alert--success"},(0,s.kt)("div",{parentName:"div",className:"admonition-heading"},(0,s.kt)("h5",{parentName:"div"},(0,s.kt)("span",{parentName:"h5",className:"admonition-icon"},(0,s.kt)("svg",{parentName:"span",xmlns:"http://www.w3.org/2000/svg",width:"12",height:"16",viewBox:"0 0 12 16"},(0,s.kt)("path",{parentName:"svg",fillRule:"evenodd",d:"M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"}))),"tip")),(0,s.kt)("div",{parentName:"div",className:"admonition-content"},(0,s.kt)("p",{parentName:"div"},"In several generation problems such as multilingual machine translation, depending on the chosen model, beside the source (and target) sequence,\nyou also want to specify the source (and target) language. To do so, just add the string fields ",(0,s.kt)("em",{parentName:"p"},"source_language")," and ",(0,s.kt)("em",{parentName:"p"},"target_language")," on each json object:"),(0,s.kt)("pre",{parentName:"div"},(0,s.kt)("code",{parentName:"pre",className:"language-bash"},'$ cat gen-with-langs.jsonl | head -1\n{"source_sequence": "I love these headphones!", "source_language": "en", "target_sequence": "Io adoro queste cuffie!", "target_language": "it"}\n\n$ cat lm-with-langs.jsonl | head -1\n{"source_sequence": "I came back home because I had forgotten my wallet.", "source_language": "en"}\n')),(0,s.kt)("p",{parentName:"div"},"Note that:"),(0,s.kt)("ul",{parentName:"div"},(0,s.kt)("li",{parentName:"ul"},"Language specification is not supported for ",(0,s.kt)("inlineCode",{parentName:"li"},".tsv")),(0,s.kt)("li",{parentName:"ul"},"Not all models support language specification (e.g. Bart), while others require it (e.g. mBart)")))))}k.isMDXComponent=!0}}]);